
R version 3.1.2 (2014-10-31) -- "Pumpkin Helmet"
Copyright (C) 2014 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> pkgname <- "grake"
> source(file.path(R.home("share"), "R", "examples-header.R"))
> options(warn = 1)
> library('grake')
> 
> base::assign(".oldSearch", base::search(), pos = 'CheckExEnv')
> cleanEx()
> nameEx("calibVars")
> ### * calibVars
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: calibVars
> ### Title: Construct a matrix of binary variables for calibration
> ### Aliases: calibVars
> ### Keywords: survey
> 
> ### ** Examples
> 
> data(eusilc)
> # default method
> aux <- calibVars(eusilc$rb090)
> head(aux)
     male female
[1,]    0      1
[2,]    1      0
[3,]    1      0
[4,]    0      1
[5,]    1      0
[6,]    1      0
> # data.frame method
> aux <- calibVars(eusilc[, c("db040", "rb090")])
> head(aux)
  db040.Burgenland db040.Carinthia db040.Lower Austria db040.Salzburg
1                0               0                   0              0
2                0               0                   0              0
3                0               0                   0              0
4                0               0                   0              0
5                0               0                   0              0
6                0               0                   0              0
  db040.Styria db040.Tyrol db040.Upper Austria db040.Vienna db040.Vorarlberg
1            0           1                   0            0                0
2            0           1                   0            0                0
3            0           1                   0            0                0
4            0           1                   0            0                0
5            0           1                   0            0                0
6            0           1                   0            0                0
  rb090.male rb090.female
1          0            1
2          1            0
3          1            0
4          0            1
5          1            0
6          1            0
> 
> 
> 
> cleanEx()
> nameEx("calibWeights")
> ### * calibWeights
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: calibWeights
> ### Title: Calibrate sample weights
> ### Aliases: calibWeights
> ### Keywords: survey
> 
> ### ** Examples
> 
> data(eusilc)
> # construct auxiliary 0/1 variables for genders
> aux <- calibVars(eusilc$rb090)
> # population totals
> totals <- c(3990798, 4191431)
> # compute g-weights
> g <- calibWeights(aux, eusilc$rb050, totals)
> # compute final weights
> weights <- g * eusilc$rb050
> summary(weights)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  356.9   492.5   529.1   551.8   613.0  1035.0 
> 
> 
> 
> cleanEx()
> nameEx("eusilc")
> ### * eusilc
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: eusilc
> ### Title: Synthetic EU-SILC survey data
> ### Aliases: eusilc
> ### Keywords: datasets
> 
> ### ** Examples
> 
> data(eusilc)
> summary(eusilc)
     db030          hsize                 db040          rb030       
 Min.   :   1   Min.   :1.000   Upper Austria:2805   Min.   :   101  
 1st Qu.:1516   1st Qu.:2.000   Lower Austria:2804   1st Qu.:151602  
 Median :2993   Median :3.000   Vienna       :2322   Median :299304  
 Mean   :3005   Mean   :3.234   Styria       :2295   Mean   :300471  
 3rd Qu.:4493   3rd Qu.:4.000   Tyrol        :1317   3rd Qu.:449302  
 Max.   :6000   Max.   :9.000   Carinthia    :1078   Max.   :600002  
                                (Other)      :2206                   
      age          rb090          pl030        pb220a          py010n      
 Min.   :-1.0   male  :7267   1      :5162   AT   :11073   Min.   :     0  
 1st Qu.:21.0   female:7560   5      :3146   EU   :  283   1st Qu.:     0  
 Median :39.0                 7      :1207   Other:  751   Median :  2566  
 Mean   :39.2                 2      :1160   NA's : 2720   Mean   :  9121  
 3rd Qu.:56.0                 4      : 736                 3rd Qu.: 16896  
 Max.   :97.0                 (Other): 696                 Max.   :151894  
                              NA's   :2720                 NA's   :2720    
     py050n           py090n            py100n          py110n        
 Min.   : -1653   Min.   :    0.0   Min.   :    0   Min.   :    0.00  
 1st Qu.:     0   1st Qu.:    0.0   1st Qu.:    0   1st Qu.:    0.00  
 Median :     0   Median :    0.0   Median :    0   Median :    0.00  
 Mean   :  1105   Mean   :  412.5   Mean   : 3641   Mean   :   72.66  
 3rd Qu.:     0   3rd Qu.:    0.0   3rd Qu.:    0   3rd Qu.:    0.00  
 Max.   :112073   Max.   :27354.3   Max.   :75837   Max.   :21281.02  
 NA's   :2720     NA's   :2720      NA's   :2720    NA's   :2720      
     py120n             py130n          py140n             hy040n        
 Min.   :    0.00   Min.   :    0   Min.   :    0.00   Min.   :     0.0  
 1st Qu.:    0.00   1st Qu.:    0   1st Qu.:    0.00   1st Qu.:     0.0  
 Median :    0.00   Median :    0   Median :    0.00   Median :     0.0  
 Mean   :   51.05   Mean   :  363   Mean   :   39.65   Mean   :   772.8  
 3rd Qu.:    0.00   3rd Qu.:    0   3rd Qu.:    0.00   3rd Qu.:     0.0  
 Max.   :31472.40   Max.   :52480   Max.   :19440.37   Max.   :118083.6  
 NA's   :2720       NA's   :2720    NA's   :2720                         
     hy050n          hy070n            hy080n             hy090n         
 Min.   :    0   Min.   :   0.00   Min.   :     0.0   Min.   :     0.00  
 1st Qu.:    0   1st Qu.:   0.00   1st Qu.:     0.0   1st Qu.:     0.50  
 Median : 1563   Median :   0.00   Median :     0.0   Median :    62.65  
 Mean   : 2995   Mean   :  87.96   Mean   :   652.3   Mean   :   468.36  
 3rd Qu.: 4823   3rd Qu.:   0.00   3rd Qu.:     0.0   3rd Qu.:   230.48  
 Max.   :96449   Max.   :4871.81   Max.   :107951.9   Max.   :109857.80  
                                                                         
     hy110n             hy130n            hy145n              eqSS      
 Min.   :    0.00   Min.   :    0.0   Min.   :-28690.3   Min.   :1.000  
 1st Qu.:    0.00   1st Qu.:    0.0   1st Qu.:  -295.3   1st Qu.:1.500  
 Median :    0.00   Median :    0.0   Median :     0.0   Median :2.000  
 Mean   :   32.73   Mean   :  328.6   Mean   :  -132.5   Mean   :1.984  
 3rd Qu.:    0.00   3rd Qu.:    0.0   3rd Qu.:     0.0   3rd Qu.:2.400  
 Max.   :13627.23   Max.   :49285.3   Max.   : 27018.1   Max.   :4.500  
                                                                        
    eqIncome          db090            rb050       
 Min.   :     0   Min.   : 357.9   Min.   : 357.9  
 1st Qu.: 13463   1st Qu.: 492.9   1st Qu.: 492.9  
 Median : 18081   Median : 527.6   Median : 527.6  
 Mean   : 19907   Mean   : 551.8   Mean   : 551.8  
 3rd Qu.: 24194   3rd Qu.: 614.7   3rd Qu.: 614.7  
 Max.   :152208   Max.   :1032.0   Max.   :1032.0  
                                                   
> 
> 
> 
> ### * <FOOTER>
> ###
> options(digits = 7L)
> base::cat("Time elapsed: ", proc.time() - base::get("ptime", pos = 'CheckExEnv'),"\n")
Time elapsed:  0.607 0.028 0.727 0 0 
> grDevices::dev.off()
null device 
          1 
> ###
> ### Local variables: ***
> ### mode: outline-minor ***
> ### outline-regexp: "\\(> \\)?### [*]+" ***
> ### End: ***
> quit('no')
